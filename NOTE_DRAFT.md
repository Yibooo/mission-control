# Note 原稿（コピペ公開用）

---

# AIで自分の営業を自動化してみた話｜個人事業主がAIエージェントを作るまで

**公開想定タグ**: #AI活用 #個人事業主 #営業自動化 #プログラミング #旅館DX

---

個人でAI導入支援の事業（AI駆け込み寺）をやっています。

クライアントにはAI活用を提案しているのに、自分自身の営業はずっと手作業でした。

「そろそろ自分でもやらないと説得力ないよな」と思い、AIエージェントで営業を自動化することにしました。

今回はその開発ログと、作ってみてわかったことを書きます。

---

## 何を作ったか

**Mission Control**という管理ダッシュボードに、営業エージェントを実装しました。

やっていることはシンプルです。

1. Tavily（AI検索API）で旅館の公式サイトを自動収集
2. Gemini（Google AI）で旅館情報を解析し、パーソナライズされた営業文章を生成
3. Firecrawl（Webクローリング）でお問い合わせフォームのURLと構造を発見
4. 自分が「承認」ボタンを押すだけで送信準備完了

ポイントは「**完全自動化ではなく、人間が最終確認する**」設計にしたことです。

AIに任せっきりにすると、意図しない文章が送られるリスクがある。だから送信前に必ず自分の目を通す「Human-in-the-Loop」の構造にしました。

---

## なぜ旅館業界を選んだか

最初は「首都圏の中小企業」を幅広くターゲットにしていました。

でも実際に動かしてみると、検索結果がニュースサイトやOTA（じゃらん・一休など）ばかりで、旅館の公式サイトが全然ヒットしない。

20件取得して20件全部除外…という事態が続きました。

そこで業界を絞ることにしました。

**「関東圏の老舗旅館・温泉旅館」に特化。**

旅館を選んだ理由は3つです。

**① AI活用の"痛み"が明確**
予約・問い合わせへの返信、OTA口コミへの返信文作成、外国人ゲストへの多言語対応。旅館業はAIで効率化できる定型業務が非常に多い。

**② DXが遅れている**
伝統的な業界のため、ITツール・AI活用率が低い。つまり競合が少ない。

**③ 公式サイトを持っている率が高い**
OTAに依存しながらも自社ドメインサイトを持つ旅館が多く、フォーム経由でのアプローチが現実的。

---

## 技術的に一番ハマったところ

### 「旅館かどうか」の判定をAIに任せると失敗する

最初、検索結果の各URLについて「これは旅館の公式サイトですか？」をGeminiに聞いていました。

でもGeminiが「違います（isRyokan: false）」と言って全件スキップしてしまう事態が頻発。

原因はGeminiのレート制限（無料枠15回/分）とJSONパース失敗のサイレントエラーでした。

解決策はシンプルでした。

**URLとタイトルにキーワードが含まれていれば旅館と判定する、という一次フィルタを追加**。

```
"hakone", "箱根", "ryokan", "旅館", "温泉", "onsen"...
```

こういったキーワードが入っていれば、Geminiが失敗しても通過させる。Geminiはあくまで補助として使う。

これで0件→5件/回のリード作成が安定するようになりました。

---

### お問い合わせフォームの自動送信は難しい

最初は「フォームの入力から送信まで全自動」を目指していました。

でも実際に旅館サイトを調べてみると…

- reCAPTCHA v3（不可視型）が入っている
- WordPress + Contact Form 7 の nonce（セキュリティトークン）
- Snow Monkey Forms の独自認証

**旅館サイトの約80〜90%は何らかのBOT対策が入っていた**。

完全自動化は断念しました。

代わりに**「手動送信ヘルパー」**を作りました。

- 📋 文章をコピー
- 🔗 フォームを開く
- ✅ 手動送信完了としてマーク

自動で「文章を生成してフォームURLを見つけるところ」まで完了させ、最後の貼り付けと送信だけ手動でやる。それで十分価値があることがわかりました。

---

## 実際の動作結果

試しに動かしてみた結果：

- **取得した旅館候補**: 20件
- **OTA・まとめサイトで除外**: 0件（クエリとexclude_domainsで事前に弾いた）
- **旅館以外として除外**: 0件
- **リード作成数**: 5件
- **承認キューに並んだ旅館**: 天成園、箱根花紋、一の湯 など箱根の旅館

各旅館に向けて、こんな文章が自動生成されました。

> 【予約管理・口コミ返信の自動化】天成園様へのご提案
>
> ご担当者様、突然のご連絡失礼いたします。中小企業向けAI導入支援「AI駆け込み寺」と申します。天成園様では、毎日届く予約・問い合わせへの返信や、OTAの口コミへの対応に多くのお時間を割かれているのではないでしょうか。AIを活用することで、これらの定型作業を大幅に効率化し、よりお客様との対話やサービス向上に集中できる体制を作ることが可能です。まずは30分の無料相談で、天成園様に合ったAI活用方法をご提案させてください。
> AI駆け込み寺 / https://ai-kakekomi-dera.vercel.app

これが旅館ごとに自動生成されてキューに並ぶ。あとは確認して「文章をコピー → フォームを開く → 貼り付け送信」するだけ。

---

## 使った技術スタック

| 役割 | 技術 |
|---|---|
| フロントエンド | Next.js 16 + TypeScript |
| データベース・バックエンド | Convex（リアルタイムDB + サーバーレス） |
| Web検索 | Tavily API |
| AI（情報抽出・文章生成） | Gemini 1.5 Flash |
| Webクローリング | Firecrawl API |
| ホスティング | Vercel |

全て無料枠 or 低コストで動かしています。

---

## 次にやること

**Phase 2-E: 返信トラッキング**
Gmail APIで自分の受信箱を監視して、旅館から返信が来たら自動で通知+ステータス更新。7日返信なしで自動フォローアップ文章を生成。

**Phase 3: エージェント可視化UI**
各AIエージェントが今何をしているかをリアルタイムで見えるUI（ゲームのオフィス画面みたいなイメージ）。

---

## まとめ

「AIで営業を自動化する」と聞くと大げさに聞こえますが、実際にやっていることは：

1. AIが旅館を探して
2. AIが文章を作って
3. 人間が確認して
4. 手動で送信する

これだけです。

でもこの「探す」「書く」の部分が一番時間がかかっていた。ここをAIに任せることで、営業活動の時間を大幅に短縮できました。

「AIを使いこなしましょう」と言う前に、まず自分でAIを使って事業を回す。そういうスタンスを大事にしていきたいと思っています。

---

無料相談やっています → [AI駆け込み寺](https://ai-kakekomi-dera.vercel.app)

---

*#AI活用 #個人事業主 #営業自動化 #旅館DX #AIエージェント*
